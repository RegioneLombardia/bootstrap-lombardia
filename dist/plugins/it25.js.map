{"version":3,"file":"it25.js","sources":["../../src/js/plugins/it25.js"],"sourcesContent":["import rangeSlider from 'range-slider-input/dist/rangeslider.umd.min.js'\nimport Timepicker from 'grudus-timepicker/dist/grudus-timepicker.js'\n\nclass it25 {\n  gooeyRangeSlider(element, options = {}, initialIndex = 0, onChange) {\n    if (element == null) {\n      return\n    }\n    const slider = element.querySelector('.slider')\n    const blobs = element.querySelector('.blobs')\n    const valueText = element.querySelector('.value-text')\n\n    let value = []\n\n    // initialIndex denotes the index of the thumb over which the blobs have to be placed initially\n    const currentIndex = () => {\n      // currentValueIndex returns -1 when the thumbs are in idle state\n      const index = wrapper.currentValueIndex()\n      return index === -1 ? initialIndex : index\n    }\n\n    const update = () => {\n      const index = currentIndex()\n      const fraction = (value[index] - wrapper.min()) / (wrapper.max() - wrapper.min())\n      const left = `calc(${fraction * 100}% + ${(0.5 - fraction) * 30}px)`\n      blobs.style.left = left\n      valueText.style.left = left\n      valueText.textContent = value[index]\n      if (onChange != null) {\n        onChange(value[index])\n      }\n    }\n\n    const wrapper = rangeSlider(slider, {\n      ...options,\n      onInput: (v) => {\n        value = v\n        update()\n      },\n      onThumbDragStart: () => {\n        blobs.classList.add('active')\n        update()\n      },\n      onThumbDragEnd: () => {\n        blobs.classList.remove('active')\n      },\n    })\n\n    value = wrapper.value()\n    update()\n  }\n\n  clockpicker(element) {\n    element.addEventListener(\n      'click',\n      function (event) {\n        Timepicker.showPicker({\n          time: element.value,\n          handColor: '#2a7a38',\n          onSubmit: (selected) => {\n            element.value = selected.formatted()\n            document.getElementById('grudus-clock').parentNode.removeChild(document.getElementById('grudus-clock'))\n          },\n          onClose: () => {\n            document.getElementById('grudus-clock').parentNode.removeChild(document.getElementById('grudus-clock'))\n          },\n        })\n        var clock = document.getElementById('grudus-clock')\n        if (clock != null) {\n          event.target.after(clock)\n        }\n      },\n      false\n    )\n  }\n}\n\nexport default it25\n"],"names":[],"mappings":"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"}